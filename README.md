# Тор Менеджер (Tor Manager)

**Тор Менеджер** — это лёгкая и удобная программа для управления и настройки Tor-клиента через ControlPort. Программа разработана для пользователей, которые хотят упростить взаимодействие с Tor, обеспечивая возможность отправки команд и выполнения базовых операций.
![image](https://github.com/user-attachments/assets/177be8c7-68f7-4394-949b-1a965975a446)

## Основные функции:
1. **Запуск и остановка Tor** — управление процессом Tor прямо из интерфейса программы.
2. **Подключение к запущенному Tor** — автоматическое подключение к работающему экземпляру Tor.
3. **Автоматическая аутентификация** — поддержка автоматической аутентификации без необходимости вручную вводить пароль или использовать `cookie_auth` файл.
4. **Отправка команд в Tor** — возможность отправки любых команд через ControlPort.
5. **Список базовых команд** — предустановленный набор команд для удобного использования.
6. **Гибкий интерфейс** — двуязычный (русский и английский) интерфейс, масштабируемый с помощью `Ctrl +`/`Ctrl -` и `Сtrl` прокрутка мыши. Окно "О программе" F1
7. **Подсказки** — удобные подсказки при наведении мыши на элементы интерфейса.
8. **Удобное развертывание** — программа состоит из одного исполняемого файла без дополнительных зависимостей или DLL.
9. **Открытый исходный код** — исходный код доступен для модификации и доработки.
## Известные ограничения:

- **Масштабирование интерфейса** иногда работает некорректно. Точнее масштабирование внутренних елементов работает плохо, но на стандартных разрешених экрана или небольших изменениях(около 30%) работает приемлемо.
- Сохранены в памяти не все команды Tor,а только базовые, но можно вручную ввести любую команду.
- **Работа только на Windows**, но благодаря открытому коду программу можно адаптировать под другие платформы.
- Для новичков, незнакомых с Tor и ControlPort, программа может быть сложна в использовании.
- Поддержка зависит от одного разработчика(меня), поэтому исправления и улучшения будут внедряться по мере возможности.
## Для кого эта программа?

**Тор Менеджер** предназначен для пользователей, которые уже знакомы с сетью Tor и хотят более гибко управлять своим Tor-клиентом через ControlPort. Программа ориентирована на:

- **Пользователей**, любящих простоту и не любящих лишние действия.
- **Опытных пользователей**, предпочитающих иметь полный контроль над Tor и настраивать его поведение вручную через ControlPort.
- **Системных администраторов**, которые управляют Tor-серверами и нуждаются в инструменте для мониторинга и управления.

Эта программа не подходит для новичков, которые не знакомы с базовыми принципами работы Tor и команды ControlPort, поскольку она требует понимания того, как Tor функционирует на низком уровне.
## Установка:
- **Использование готового файла**:
  1. переходим в [Releases](https://github.com/Apilot16/Tor-Manager/releases)
  2. выбираем и скачиваем готовый `Tor Manager.exe` файл.
  3. Запустите файл на вашем компьютере. Для работы требуется наличие .NET Framework (если вы используете Windows).

- **Компиляция из исходного кода** (для продвинутых пользователей):
Перед началом убедитесь, что у вас установлено следующее:
1. **.NET Framework Developer Pack**.
2. **MSBuild** (обычно поставляется с Visual Studio, но также может быть установлен отдельно).
3. **Git** (для клонирования репозитория).
### Вариант 1: Сборка с использованием Visual Studio

1. **Клонируйте репозиторий**:  
    Откройте терминал или командную строку и выполните команду:
    
```bash
    git clone https://github.com/Apilot16/Tor-Manager.git
```
    
2. **Откройте проект в Visual Studio**:
   - Перейдите в папку с проектом:
```bash
	cd Tor-Manager
```
   - Дважды щелкните по файлу решения `Tor_Manager_.sln`, чтобы открыть проект в Visual Studio.
3. **Настройте конфигурацию сборки**:
    - В Visual Studio выберите конфигурацию сборки (`Release` для готовой сборки или `Debug` для тестирования).
4. **Соберите проект**:
    - Нажмите `Ctrl+Shift+B` или выберите пункт меню **Сборка → Собрать решение**.
5. **Готовый файл**:
    - После успешной сборки файл `.exe` будет находиться в папке:
```
\bin\Release\Tor Manager.exe
```
### Вариант 2: Сборка из командной строки
Убедитесь, что MSBuild доступен из командной строки. Если Visual Studio установлена, MSBuild уже должен быть настроен. Иногда Visual Studio не прописывает в PATH пути до компилятора. Тогда в меню пуск найдите папку Visual Studio 2022(или ваша версия) и запустите "Developer Command Prompt for VS 2022" дальше выполняйте из открытой командной строки.
1. **Клонируйте репозиторий**:  
    Выполните команду:
```bash
git clone https://github.com/Apilot16/Tor-Manager.git cd Tor-Manager
```
2. **Запустите MSBuild**:  
    Выполните команду для сборки:
```bash
   msbuild Tor_Manager_.sln /p:Configuration=Release
```
- Если требуется сборка в режиме отладки, замените `Release` на `Debug`.
3. **Готовый файл**:  
    После успешной сборки файл `.exe` будет находиться в папке:
```
  \bin\Release\Tor Manager.exe
```

## Примеры использования
1. Если Тор уже запущен - то кнопка Запуск будет иметь синий цвет и не будет активна. Это связанно с тем, что двойной запуск Тор был зартуднён, и вызывал ошибки при стандартной конфигурации. Если вы уверенны что для входа к Тор стоит пароль, то в текстовое окошко введите пароль, именно пароль, а не хеш. Если вы уверенны что для входа к Тор стоит control_auth_cookie,  то нажимайте на печеньку - довольно большая кнопка с подсказкой, и выбирайте control_auth_cookie. Если у Тор задан И пароль И control_auth_cookie, то работать будут оба способа на выбор. Далее подключаемся к активному Тор кнопкой "Подключить" - вам предложит автоматически найти у уже запущенного Тор control_auth_cookie, ControlPort - выбор ваш: 
	Да, автоматический поиск и подключение;
	Нет, использовать вручную введённые данные.
При успешном подключении будет надпись: 250:OK - что означает готовность к работе. В текстовое окошко можно записывать команды для ControlPort и отправлять их кнопкой "Команда". Для удобства, слева есть список базовых команд для Тор - вставляются(или заменяются если установленна галочка "Заменять") по нажатию.
2. Если Тор не запущен - то кнопка "Запуск" будет иметь белый(бело-серый) цвет, но будет неактивна до тех пор, пока не будет указан файл tor.exe. Для того чтобы указать файл тор нажимаем кнопку с значком тор - фиолетовую круглую иконку. После в открывшемся файловом окне находим и указываем тор. Кнопка "Запуск" станет активной. При запуске Тор через Tor Manager будут использоваться один из двух методов входа: по паролю или по control_auth_cookie для безопасности. При этом пароль берётся из текстового окошка. Если окошко пустое - то используется control_auth_cookie. После успешного запуска выведется сообщение "Тор запущен и подключён". Весь вывод, включая ошибки, перенаправлен в большое текстовое окно. Программа готова к работе.
## Часто задаваемые вопросы (FAQ)
**Q:** Что делать, если Tor не запускается? **A:** Убедитесь, что Tor установлен и доступен из командной строки. Проверьте настройки пути в программе. 

**Q:** Почему интерфейс некорректно масштабируется? **A:** Масштабирование интерфейса может работать с ошибками в некоторых разрешениях экрана. Мы работаем над улучшением этой функции.

**Q:** Почему Кнопка "Запуск" синяя? **A:** Тор уже запущен. Запуск второго Тор из этой программы затруднителен и приводит к ошибкам. Попробуйте подключиться к уже запущенносу Тор. Или закрыть запущенный Тор и запустить новый из Tor Manager.

**Q:** Почему кнопка "Запуск" не работает, не нажимается, неактивна? **A:** Потому что не указан файл tor.exe для запуска, либо Тор уже запущен.

**Q:** Как указать пароль при запуске, при подключении? **A:** Текст внутри Текстогово окошка и есть пароль. Если текстовое окошко будет пусто - пароль не используется.

**Q:** Как вручную указать порт? **A:** В пустое текстовое окошко введите число, например 9152, Нажмите кнопку "Порт". Порт задан.

**Q:** Как выбрать control_auth_cookie для входа, для запуска? **A:** Для входа - нажмите на кнопку с печенькой, выберите файл control_auth_cookie, если он выбран корректно фон кнопки будет зелёным. Для запуска - файл control_auth_cookie не получится выбрать ДО запуска Тор, так как он генерирует его сам. Если вы хотите использовать в качестве метода входа при запуске файл control_auth_cookie, то отчистите текстовое окошко - при пустом текстовом поле автоматически выбирается control_auth_cookie.

**Q:** Как перевести интерфейс на английский? **A:** Нажмите на кнопку "EN"

**Q:** Как перевести на другие языки? **A:** Пока что реализованны 2 языка: Русский и Английскоий.  Для перевода на другие языки нужно перевести файлы локализации: Form1.Resx и Locale.resx.  

**Q:** Какие команды можно использовать, отправлять? **A:** Любые, ограничений нет. В Tor Manager есть просто список базовых команд для удобства, но помимо этого можно ввести любую команду и она будет работать.

**Q:** Как вводить команду? **A:** В пустое текстовое окошко вводим: "Команда аргументы", например ```GETINFO status/circuit-established``` или ```SETCONF ExitNodes={us}```

## Планы на будущее
 - [ ] Добавление поддержки дополнительных команд и улучшение интерфейса.
 - [ ] Улучшение масштабирования интерфейса. 
 - [ ] Переход на другой метод отображения с WinForm на WPF или другой.
 - [ ] Добавление поддержки других платформ, таких как Linux и macOS.

## Обратная связь:
Мы приветствуем вклад сообщества! Если вы хотите улучшить программу или сообщить о проблемах, создайте Pull Request или Issue на GitHub.
